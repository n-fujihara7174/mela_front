{"remainingRequest":"/app/app/node_modules/babel-loader/lib/index.js!/app/app/node_modules/ts-loader/index.js??ref--15-2!/app/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/app/app/src/components/SuggestInput.vue?vue&type=script&lang=ts","dependencies":[{"path":"/app/app/src/components/SuggestInput.vue","mtime":1643231750865},{"path":"/app/app/node_modules/cache-loader/dist/cjs.js","mtime":1639906761392},{"path":"/app/app/node_modules/babel-loader/lib/index.js","mtime":1639906767681},{"path":"/app/app/node_modules/ts-loader/index.js","mtime":1639906768649},{"path":"/app/app/node_modules/cache-loader/dist/cjs.js","mtime":1639906761392},{"path":"/app/app/node_modules/vue-loader-v16/dist/index.js","mtime":1639906767487}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWFjdGl2ZSwgb25Nb3VudGVkLCB3YXRjaCwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfQogIH0sCgogIHNldHVwKHByb3BzLCB7CiAgICBlbWl0CiAgfSkgewogICAgY29uc3QgcmVmU3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGZpbHRlcmVkTGlzdDogW10sCiAgICAgIGlucHV0VmFsdWU6ICIiLAogICAgICBpc0ZvY3VzOiBmYWxzZSwKICAgICAgaXNIb3ZlcjogZmFsc2UKICAgIH0pOwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgY29uc29sZS5sb2coInByb3BzLnZhbHVlIDogIiArIHByb3BzLnZhbHVlKTsKICAgICAgcmVmU3RhdGUuaW5wdXRWYWx1ZSA9IHByb3BzLnZhbHVlOwogICAgICBsaXN0RmlsdGVyKHJlZlN0YXRlLmlucHV0VmFsdWUpOwogICAgfSk7CgogICAgY29uc3QgbGlzdEZpbHRlciA9IGZpbHRlclRleHQgPT4gewogICAgICBpZiAoZmlsdGVyVGV4dCAhPT0gIiIpIHsKICAgICAgICByZWZTdGF0ZS5maWx0ZXJlZExpc3QgPSBwcm9wcy5saXN0LmZpbHRlcihsaXN0SXRlbSA9PiBsaXN0SXRlbS5pbmRleE9mKGZpbHRlclRleHQpID09PSAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZWZTdGF0ZS5maWx0ZXJlZExpc3QgPSBbXTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBvbkZvY3VzID0gKCkgPT4gewogICAgICByZWZTdGF0ZS5pc0ZvY3VzID0gdHJ1ZTsKICAgIH07CgogICAgY29uc3QgdW5Gb2N1cyA9ICgpID0+IHsKICAgICAgcmVmU3RhdGUuaXNGb2N1cyA9IGZhbHNlOwogICAgfTsKCiAgICBjb25zdCBtb3VzZW92ZXIgPSAoKSA9PiB7CiAgICAgIHJlZlN0YXRlLmlzSG92ZXIgPSB0cnVlOwogICAgfTsKCiAgICBjb25zdCBtb3VzZUxlYXZlID0gKCkgPT4gewogICAgICByZWZTdGF0ZS5pc0hvdmVyID0gZmFsc2U7CiAgICB9OyAvL+OCteOCuOOCp+OCueODiOOBp+mBuOaKnuOBl+OBn+WApOOCkuODhuOCreOCueODiOODnOODg+OCr+OCueOBq+OCu+ODg+ODiAoKCiAgICBjb25zdCBzZXRJbnB1dFZhbHVlID0gc2VsZWN0VmFsdWUgPT4gewogICAgICByZWZTdGF0ZS5pbnB1dFZhbHVlID0gc2VsZWN0VmFsdWU7CiAgICAgIGxpc3RGaWx0ZXIoc2VsZWN0VmFsdWUpOwogICAgfTsKCiAgICB3YXRjaCgoKSA9PiByZWZTdGF0ZS5pbnB1dFZhbHVlLCAoKSA9PiB7CiAgICAgIGVtaXQoInVwZGF0ZTp2YWx1ZSIsIHJlZlN0YXRlLmlucHV0VmFsdWUpOwogICAgfSk7CiAgICAvKiB3YXRjaCgKICAgICAgKCkgPT4gcHJvcHMuZXJyb3JNZXNzYWdlLAogICAgICAoKSA9PiB7CiAgICAgICAgcmVmU3RhdGUuZXJyb3JNZXNzYWdlID0gcHJvcHMuZXJyb3JNZXNzYWdlOwogICAgICB9CiAgICApOyAqLwoKICAgIGNvbnN0IGlzRGlzcGxheSA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIChyZWZTdGF0ZS5pc0ZvY3VzIHx8IHJlZlN0YXRlLmlzSG92ZXIpICYmIHJlZlN0YXRlLmZpbHRlcmVkTGlzdC5sZW5ndGggIT0gMDsKICAgIH0pOwogICAgLyoKICAgICAgIHB1bGxkb3du44Gn6KaB57Sg44KS6KGo56S644GZ44KL5YCL5pWw44KS566X5Ye6CiAgICAgICDjgrXjgrjjgqfjgrnjg4jjga7jg6rjgrnjg4jjga7opoHntKDjgYwx44Gk44Gn44GC44KM44Gw44CBMuOCkui/lOWNtO+8iDLjgavjgZfjgarjgYTjgajjg5fjg6vjg4Djgqbjg7Pjga7pgbjmip7ogqLjgajjgZfjgabooajnpLrjgZXjgozjgarjgYQpCiAgICAgICAy44GL44KJMTDjgafjgYLjgozjgbDjgIHopoHntKDmlbDjgZ3jga7jgb7jgb7jga7lgIvmlbDjgpLov5TljbQKICAgICAgIDEw5Lul5LiK44Gn44GC44KM44Gw44CBMTDjgpLov5TljbQKICAgICovCgogICAgY29uc3QgbGlzdFNpemUgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGxldCBzaXplID0gMDsKICAgICAgY29uc3QgZmlsdGVyU2l6ZSA9IHJlZlN0YXRlLmZpbHRlcmVkTGlzdC5sZW5ndGg7CiAgICAgIHNpemUgPSBmaWx0ZXJTaXplID09PSAxID8gMiA6IGZpbHRlclNpemU7CiAgICAgIHNpemUgPSBmaWx0ZXJTaXplID4gMTAgPyAxMCA6IGZpbHRlclNpemU7CiAgICAgIHJldHVybiBzaXplOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICByZWZTdGF0ZSwKICAgICAgbGlzdEZpbHRlciwKICAgICAgb25Gb2N1cywKICAgICAgdW5Gb2N1cywKICAgICAgbW91c2VvdmVyLAogICAgICBtb3VzZUxlYXZlLAogICAgICBzZXRJbnB1dFZhbHVlLAogICAgICBpc0Rpc3BsYXksCiAgICAgIGxpc3RTaXplCiAgICB9OwogIH0KCn0pOw=="},{"version":3,"sources":["/app/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/app/app/src/components/SuggestInput.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport {\n  defineComponent,\n  PropType,\n  reactive,\n  onMounted,\n  watch,\n  computed,\n} from \"vue\";\n\ninterface State {\n  filteredList: string[];\n  inputValue: string;\n  isFocus: boolean;\n  isHover: boolean;\n}\n\nexport default defineComponent({\n  props: {\n    value: {\n      type: String as PropType<string>,\n      required: true,\n    },\n    list: {\n      type: Array as PropType<string[]>,\n      required: true,\n    },\n    placeholder: {\n      type: String as PropType<string>,\n      required: false,\n    },\n  },\n\n  setup(props, { emit }) {\n    const refState = reactive<State>({\n      filteredList: [],\n      inputValue: \"\",\n      isFocus: false,\n      isHover: false,\n    });\n\n    onMounted(() => {\n      console.log(\"props.value : \" + props.value);\n      refState.inputValue = props.value;\n      listFilter(refState.inputValue);\n    });\n\n    const listFilter = (filterText: string) => {\n      if (filterText !== \"\") {\n        refState.filteredList = props.list.filter(\n          (listItem) => listItem.indexOf(filterText) === 0\n        );\n      } else {\n        refState.filteredList = [];\n      }\n    };\n\n    const onFocus = () => {\n      refState.isFocus = true;\n    };\n\n    const unFocus = () => {\n      refState.isFocus = false;\n    };\n\n    const mouseover = () => {\n      refState.isHover = true;\n    };\n\n    const mouseLeave = () => {\n      refState.isHover = false;\n    };\n\n    //サジェストで選択した値をテキストボックスにセット\n    const setInputValue = (selectValue: string) => {\n      refState.inputValue = selectValue;\n      listFilter(selectValue);\n    };\n\n    watch(\n      () => refState.inputValue,\n      () => {\n        emit(\"update:value\", refState.inputValue);\n      }\n    );\n\n    /* watch(\n      () => props.errorMessage,\n      () => {\n        refState.errorMessage = props.errorMessage;\n      }\n    ); */\n\n    const isDisplay = computed(() => {\n      return (\n        (refState.isFocus || refState.isHover) &&\n        refState.filteredList.length != 0\n      );\n    });\n\n    /*\n       pulldownで要素を表示する個数を算出\n       サジェストのリストの要素が1つであれば、2を返却（2にしないとプルダウンの選択肢として表示されない)\n       2から10であれば、要素数そのままの個数を返却\n       10以上であれば、10を返却\n    */\n    const listSize = computed(() => {\n      let size = 0;\n      const filterSize = refState.filteredList.length;\n\n      size = filterSize === 1 ? 2 : filterSize;\n      size = filterSize > 10 ? 10 : filterSize;\n\n      return size;\n    });\n\n    return {\n      refState,\n      listFilter,\n      onFocus,\n      unFocus,\n      mouseover,\n      mouseLeave,\n      setInputValue,\n      isDisplay,\n      listSize,\n    };\n  },\n});\n"],"sourceRoot":""}]}