{"remainingRequest":"/app/app/node_modules/babel-loader/lib/index.js!/app/app/node_modules/ts-loader/index.js??ref--15-2!/app/app/node_modules/eslint-loader/index.js??ref--14-0!/app/app/src/api/Auth.ts","dependencies":[{"path":"/app/app/src/api/Auth.ts","mtime":1654353475532},{"path":"/app/app/babel.config.js","mtime":1653536287205},{"path":"/app/app/node_modules/cache-loader/dist/cjs.js","mtime":1653536287828},{"path":"/app/app/node_modules/babel-loader/lib/index.js","mtime":1653832257142},{"path":"/app/app/node_modules/ts-loader/index.js","mtime":1653536289992},{"path":"/app/app/node_modules/eslint-loader/index.js","mtime":1653536288483}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAidHNsaWIiOwovKiBlc2xpbnQtZGlzYWJsZSBwcmV0dGllci9wcmV0dGllciAqLwoKLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqLwoKaW1wb3J0IENsaWVudCBmcm9tICJAL2FwaS9DbGllbnQiOwppbXBvcnQgeyBnZXRBdXRoVG9rZW5Gcm9tU3RvcmFnZSwgcmVtb3ZlQXV0aERhdGFGcm9tU3RvcmFnZSwgc2V0QXV0aERhdGFGcm9tUmVzcG9uc2UgfSBmcm9tICJAL3V0aWxzL0F1dGhUb2tlbiI7CmltcG9ydCBjb25maWcgZnJvbSAiQC9jb25zdCI7CmV4cG9ydCBjb25zdCBzaWduX2luID0gKGVtYWlsLCBwYXNzd29yZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7CiAgcmV0dXJuIHlpZWxkIENsaWVudC5wb3N0KCIvYXV0aC9zaWduX2luIiwgewogICAgZW1haWwsCiAgICBwYXNzd29yZAogIH0pLnRoZW4ocmVzID0+IHsKICAgIGNvbnN0IGhlYWRlciA9IHsKICAgICAgImFjY2Vzcy10b2tlbiI6ICIiLAogICAgICB1aWQ6ICIiLAogICAgICBjbGllbnQ6ICIiLAogICAgICBleHBpcnk6ICIiLAogICAgICAiY29udGVudC10eXBlIjogIiIKICAgIH07CiAgICBoZWFkZXJbImFjY2Vzcy10b2tlbiJdID0gcmVzLmhlYWRlcnNbImFjY2Vzcy10b2tlbiJdIHx8ICIiOwogICAgaGVhZGVyWyJ1aWQiXSA9IHJlcy5oZWFkZXJzWyJ1aWQiXSB8fCAiIjsKICAgIGhlYWRlclsiY2xpZW50Il0gPSByZXMuaGVhZGVyc1siY2xpZW50Il0gfHwgIiI7CiAgICBoZWFkZXJbImV4cGlyeSJdID0gcmVzLmhlYWRlcnNbImV4cGlyeSJdIHx8ICIiOwogICAgaGVhZGVyWyJjb250ZW50LXR5cGUiXSA9IHJlcy5oZWFkZXJzWyJjb250ZW50LXR5cGUiXSB8fCAiIjsKICAgIHNldEF1dGhEYXRhRnJvbVJlc3BvbnNlKGhlYWRlcik7CiAgICByZXR1cm4gcmVzOwogIH0pLmNhdGNoKGVyciA9PiB7CiAgICByZXR1cm4gZXJyLnJlc3BvbnNlOwogIH0pOwp9KTsKZXhwb3J0IGNvbnN0IHNpZ25fb3V0ID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7CiAgcmV0dXJuIHlpZWxkIENsaWVudC5kZWxldGUoIi9hdXRoL3NpZ25fb3V0IiwgewogICAgaGVhZGVyczogZ2V0QXV0aFRva2VuRnJvbVN0b3JhZ2UoKQogIH0pLnRoZW4oKCkgPT4gewogICAgcmVtb3ZlQXV0aERhdGFGcm9tU3RvcmFnZSgpOwogIH0pOwp9KTsKZXhwb3J0IGNvbnN0IHNpZ25fdXAgPSAobmFtZSwgcGFzc3dvcmQsIHBhc3N3b3JkX2NvbmZpcm1hdGlvbiwgZW1haWwpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgewogIHJldHVybiB5aWVsZCBDbGllbnQucG9zdCgiL2F1dGgiLCB7CiAgICBuYW1lLAogICAgcGFzc3dvcmQsCiAgICBwYXNzd29yZF9jb25maXJtYXRpb24sCiAgICBlbWFpbCwKICAgIGNvbmZpcm1fc3VjY2Vzc191cmw6IGNvbmZpZy5DT05GSVJNX1NVQ0NFU1NfVVJMLAogICAgaGVhZGVyczogZ2V0QXV0aFRva2VuRnJvbVN0b3JhZ2UoKQogIH0pLnRoZW4ocmVzID0+IHsKICAgIGNvbnNvbGUubG9nKCJzaWduX3Vw44Oh44K944OD44OJ4oaS5oiQ5YqfIik7CiAgICByZXR1cm4gcmVzOwogIH0pLmNhdGNoKGVyciA9PiB7CiAgICBjb25zb2xlLmxvZygic2lnbl91cOODoeOCveODg+ODieKGkuWkseaVlyIpOwogICAgdGhyb3cgZXJyOwogIH0pOwp9KTs="},{"version":3,"sources":["/app/app/node_modules/eslint-loader/index.js??ref--14-0!/app/app/src/api/Auth.ts"],"names":[],"mappings":";AAAA;;AACA;;AACA,OAAO,MAAP,MAAmB,cAAnB;AAGA,SACE,uBADF,EAEE,yBAFF,EAGE,uBAHF,QAIO,mBAJP;AAKA,OAAO,MAAP,MAAmB,SAAnB;AAIA,OAAO,MAAM,OAAO,GAAG,CAAO,KAAP,EAAsB,QAAtB,KAA0C,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AAC/D,SAAO,MAAM,MAAM,CAAC,IAAP,CAAkB,eAAlB,EAAmC;AAAE,IAAA,KAAF;AAAS,IAAA;AAAT,GAAnC,EACV,IADU,CACJ,GAAD,IAA6B;AACjC,UAAM,MAAM,GAAgB;AAC1B,sBAAgB,EADU;AAE1B,MAAA,GAAG,EAAE,EAFqB;AAG1B,MAAA,MAAM,EAAE,EAHkB;AAI1B,MAAA,MAAM,EAAE,EAJkB;AAK1B,sBAAgB;AALU,KAA5B;AAOA,IAAA,MAAM,CAAC,cAAD,CAAN,GAAyB,GAAG,CAAC,OAAJ,CAAY,cAAZ,KAA+B,EAAxD;AACA,IAAA,MAAM,CAAC,KAAD,CAAN,GAAgB,GAAG,CAAC,OAAJ,CAAY,KAAZ,KAAsB,EAAtC;AACA,IAAA,MAAM,CAAC,QAAD,CAAN,GAAmB,GAAG,CAAC,OAAJ,CAAY,QAAZ,KAAyB,EAA5C;AACA,IAAA,MAAM,CAAC,QAAD,CAAN,GAAmB,GAAG,CAAC,OAAJ,CAAY,QAAZ,KAAyB,EAA5C;AACA,IAAA,MAAM,CAAC,cAAD,CAAN,GAAyB,GAAG,CAAC,OAAJ,CAAY,cAAZ,KAA+B,EAAxD;AACA,IAAA,uBAAuB,CAAC,MAAD,CAAvB;AACA,WAAO,GAAP;AACD,GAhBU,EAiBV,KAjBU,CAiBH,GAAD,IAAoB;AACzB,WAAO,GAAG,CAAC,QAAX;AACD,GAnBU,CAAb;AAoBD,CArBgE,CAA1D;AAuBP,OAAO,MAAM,QAAQ,GAAG,MAAW,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AACjC,SAAO,MAAM,MAAM,CAAC,MAAP,CAAc,gBAAd,EAAgC;AAC3C,IAAA,OAAO,EAAE,uBAAuB;AADW,GAAhC,EAEV,IAFU,CAEL,MAAK;AACX,IAAA,yBAAyB;AAC1B,GAJY,CAAb;AAKD,CANkC,CAA5B;AAQP,OAAO,MAAM,OAAO,GAAG,CACrB,IADqB,EAErB,QAFqB,EAGrB,qBAHqB,EAIrB,KAJqB,KAKnB,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AACF,SAAO,MAAM,MAAM,CAAC,IAAP,CAAkB,OAAlB,EAA2B;AACtC,IAAA,IADsC;AAEtC,IAAA,QAFsC;AAGtC,IAAA,qBAHsC;AAItC,IAAA,KAJsC;AAKtC,IAAA,mBAAmB,EAAE,MAAM,CAAC,mBALU;AAMtC,IAAA,OAAO,EAAE,uBAAuB;AANM,GAA3B,EAQV,IARU,CAQJ,GAAD,IAA6B;AACjC,IAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ;AACA,WAAO,GAAP;AACD,GAXU,EAYV,KAZU,CAYH,GAAD,IAAoB;AACzB,IAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ;AACA,UAAM,GAAN;AACD,GAfU,CAAb;AAgBD,CAjBG,CALG","sourcesContent":["/* eslint-disable prettier/prettier */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport Client from \"@/api/Client\";\nimport { User } from \"@/types/User\";\nimport { AuthHeaders } from \"@/types/Auth\";\nimport {\n  getAuthTokenFromStorage,\n  removeAuthDataFromStorage,\n  setAuthDataFromResponse,\n} from \"@/utils/AuthToken\";\nimport config from \"@/const\";\n\nimport { AxiosResponse, AxiosError } from \"axios\";\n\nexport const sign_in = async (email: string, password: string) => {\n  return await Client.post<User>(\"/auth/sign_in\", { email, password })\n    .then((res: AxiosResponse<User>) => {\n      const header: AuthHeaders = {\n        \"access-token\": \"\",\n        uid: \"\",\n        client: \"\",\n        expiry: \"\",\n        \"content-type\": \"\",\n      };\n      header[\"access-token\"] = res.headers[\"access-token\"] || \"\";\n      header[\"uid\"] = res.headers[\"uid\"] || \"\";\n      header[\"client\"] = res.headers[\"client\"] || \"\";\n      header[\"expiry\"] = res.headers[\"expiry\"] || \"\";\n      header[\"content-type\"] = res.headers[\"content-type\"] || \"\";\n      setAuthDataFromResponse(header);\n      return res;\n    })\n    .catch((err: AxiosError) => {\n      return err.response;\n    });\n};\n\nexport const sign_out = async () => {\n  return await Client.delete(\"/auth/sign_out\", {\n    headers: getAuthTokenFromStorage(),\n  }).then(() => {\n    removeAuthDataFromStorage();\n  });\n};\n\nexport const sign_up = async (\n  name: string,\n  password: string,\n  password_confirmation: string,\n  email: string\n) => {\n  return await Client.post<User>(\"/auth\", {\n    name,\n    password,\n    password_confirmation,\n    email,\n    confirm_success_url: config.CONFIRM_SUCCESS_URL,\n    headers: getAuthTokenFromStorage(),\n  })\n    .then((res: AxiosResponse<User>) => {\n      console.log(\"sign_upメソッド→成功\");\n      return res;\n    })\n    .catch((err: AxiosError) => {\n      console.log(\"sign_upメソッド→失敗\");\n      throw err;\n    });\n};\n"],"sourceRoot":""}]}