{"remainingRequest":"/app/app/node_modules/babel-loader/lib/index.js!/app/app/node_modules/ts-loader/index.js??ref--15-2!/app/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/app/app/src/views/SignIn.vue?vue&type=script&lang=ts","dependencies":[{"path":"/app/app/src/views/SignIn.vue","mtime":1648341790261},{"path":"/app/app/babel.config.js","mtime":1643593581402},{"path":"/app/app/node_modules/cache-loader/dist/cjs.js","mtime":1648218240323},{"path":"/app/app/node_modules/babel-loader/lib/index.js","mtime":1648218249787},{"path":"/app/app/node_modules/ts-loader/index.js","mtime":1648218251153},{"path":"/app/app/node_modules/cache-loader/dist/cjs.js","mtime":1648218240323},{"path":"/app/app/node_modules/vue-loader-v16/dist/index.js","mtime":1648218248547}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlYWN0aXZlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBJbnB1dEZpZWxkIGZyb20gIkAvY29tcG9uZW50cy9jb21tb24vbW9sZWN1bGVzL0lucHV0RmllbGQudnVlIjsKaW1wb3J0IHsgbG9naW4gfSBmcm9tICJAL2FwaS9BdXRoIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBJbnB1dEZpZWxkOiBJbnB1dEZpZWxkCiAgfSwKCiAgc2V0dXAoKSB7CiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX09SSUdJTik7CiAgICBjb25zdCBsb2dpbkluZm9Jbml0ID0gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIgogICAgfTsKICAgIGNvbnN0IGVycm9yTWVzc2FnZUluaXQgPSB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogICAgY29uc3QgcmVmU3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGxvZ2luSW5mbzogbG9naW5JbmZvSW5pdCwKICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VJbml0CiAgICB9KTsKCiAgICBjb25zdCBoYW5kbGVMb2dpbiA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsKICAgICAgeWllbGQgbG9naW4ocmVmU3RhdGUubG9naW5JbmZvLmVtYWlsLCByZWZTdGF0ZS5sb2dpbkluZm8ucGFzc3dvcmQpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAoKHJlcyA9PT0gbnVsbCB8fCByZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcy5zdGF0dXMpID09PSAyMDApIHsKICAgICAgICAgIHRyYW5zaXRpb25MaXN0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8v44Ko44Op44O844Oh44OD44K744O844K444KS5qC857SNCiAgICAgICAgICBjb25zdCBlcnJvckxpc3QgPSBPYmplY3Qua2V5cyhyZXMgPT09IG51bGwgfHwgcmVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXMuZGF0YS5lcnJvcnMpOwoKICAgICAgICAgIGlmIChlcnJvckxpc3QuaW5kZXhPZigiZW1haWwiKSAhPT0gLTEpIHsKICAgICAgICAgICAgcmVmU3RhdGUuZXJyb3JNZXNzYWdlLmVtYWlsID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzLmRhdGEuZXJyb3JzLmVtYWlsWzBdOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChlcnJvckxpc3QuaW5kZXhPZigicGFzc3dvcmQiKSAhPT0gLTEpIHsKICAgICAgICAgICAgcmVmU3RhdGUuZXJyb3JNZXNzYWdlLnBhc3N3b3JkID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzLmRhdGEuZXJyb3JzLnBhc3N3b3JkWzBdOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChlcnJvckxpc3QuaW5kZXhPZigiMCIpICE9PSAtMSkgewogICAgICAgICAgICByZWZTdGF0ZS5lcnJvck1lc3NhZ2UuZW1haWwgPSByZXMgPT09IG51bGwgfHwgcmVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXMuZGF0YS5lcnJvcnNbMF07CiAgICAgICAgICAgIHJlZlN0YXRlLmVycm9yTWVzc2FnZS5wYXNzd29yZCA9IHJlcyA9PT0gbnVsbCB8fCByZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcy5kYXRhLmVycm9yc1swXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICBhbGVydCgi44Ot44Kw44Kk44Oz44Gr5aSx5pWX44GX44G+44GX44Gf44CCIik7CiAgICAgIH0pOwogICAgfSk7CgogICAgY29uc3QgdHJhbnNpdGlvblNpZ25VcCA9ICgpID0+IHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJTaWduVXAiCiAgICAgIH0pOwogICAgfTsKCiAgICBjb25zdCB0cmFuc2l0aW9uTGlzdCA9ICgpID0+IHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJMaXN0IgogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcmVmU3RhdGUsCiAgICAgIGhhbmRsZUxvZ2luLAogICAgICB0cmFuc2l0aW9uU2lnblVwCiAgICB9OwogIH0KCn0pOw=="},{"version":3,"mappings":";AAEA,SAASA,eAAT,EAA0BC,QAA1B,QAA0C,KAA1C;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,UAAP,MAAuB,8CAAvB;AACA,SAASC,KAAT,QAAsB,YAAtB;AAYA,eAAeJ,eAAe,CAAC;AAC7BK,YAAU,EAAE;AACVF,cAAU,EAAEA;AADF,GADiB;;AAI7BG,OAAK;AACH,UAAMC,MAAM,GAAGL,SAAS,EAAxB;AAEAM,WAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,kBAAxB;AAEA,UAAMC,aAAa,GAAc;AAC/BC,WAAK,EAAE,EADwB;AAE/BC,cAAQ,EAAE;AAFqB,KAAjC;AAKA,UAAMC,gBAAgB,GAAc;AAClCF,WAAK,EAAE,EAD2B;AAElCC,cAAQ,EAAE;AAFwB,KAApC;AAKA,UAAME,QAAQ,GAAGhB,QAAQ,CAAQ;AAC/BiB,eAAS,EAAEL,aADoB;AAE/BM,kBAAY,EAAEH;AAFiB,KAAR,CAAzB;;AAKA,UAAMI,WAAW,GAAG,MAAWC;AAC7B,YAAMjB,KAAK,CAACa,QAAQ,CAACC,SAAT,CAAmBJ,KAApB,EAA2BG,QAAQ,CAACC,SAAT,CAAmBH,QAA9C,CAAL,CACHO,IADG,CACGC,GAAD,IAAQ;AACZ,YAAI,IAAG,SAAH,OAAG,WAAH,GAAG,MAAH,MAAG,CAAEC,MAAL,MAAgB,GAApB,EAAyB;AACvBC,wBAAc;AACf,SAFD,MAEO;AACL;AACA,gBAAMC,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYL,GAAG,SAAH,OAAG,WAAH,GAAG,MAAH,MAAG,CAAEM,IAAL,CAAUC,MAAtB,CAAlB;;AACA,cAAIJ,SAAS,CAACK,OAAV,CAAkB,OAAlB,MAA+B,CAAC,CAApC,EAAuC;AACrCd,oBAAQ,CAACE,YAAT,CAAsBL,KAAtB,GAA8BS,GAAG,SAAH,OAAG,WAAH,GAAG,MAAH,MAAG,CAAEM,IAAL,CAAUC,MAAV,CAAiBhB,KAAjB,CAAuB,CAAvB,CAA9B;AACD;;AACD,cAAIY,SAAS,CAACK,OAAV,CAAkB,UAAlB,MAAkC,CAAC,CAAvC,EAA0C;AACxCd,oBAAQ,CAACE,YAAT,CAAsBJ,QAAtB,GAAiCQ,GAAG,SAAH,OAAG,WAAH,GAAG,MAAH,MAAG,CAAEM,IAAL,CAAUC,MAAV,CAAiBf,QAAjB,CAA0B,CAA1B,CAAjC;AACD;;AACD,cAAIW,SAAS,CAACK,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAAhC,EAAmC;AACjCd,oBAAQ,CAACE,YAAT,CAAsBL,KAAtB,GAA8BS,GAAG,SAAH,OAAG,WAAH,GAAG,MAAH,MAAG,CAAEM,IAAL,CAAUC,MAAV,CAAiB,CAAjB,CAA9B;AACAb,oBAAQ,CAACE,YAAT,CAAsBJ,QAAtB,GAAiCQ,GAAG,SAAH,OAAG,WAAH,GAAG,MAAH,MAAG,CAAEM,IAAL,CAAUC,MAAV,CAAiB,CAAjB,CAAjC;AACD;AACF;AACF,OAlBG,EAmBHE,KAnBG,CAmBG,MAAK;AACVC,aAAK,CAAC,cAAD,CAAL;AACD,OArBG,CAAN;AAsBD,KAvB8B,CAA/B;;AAyBA,UAAMC,gBAAgB,GAAG,MAAK;AAC5B3B,YAAM,CAAC4B,IAAP,CAAY;AACVC,YAAI,EAAE;AADI,OAAZ;AAGD,KAJD;;AAMA,UAAMX,cAAc,GAAG,MAAK;AAC1BlB,YAAM,CAAC4B,IAAP,CAAY;AACVC,YAAI,EAAE;AADI,OAAZ;AAGD,KAJD;;AAMA,WAAO;AACLnB,cADK;AAELG,iBAFK;AAGLc;AAHK,KAAP;AAKD;;AAlE4B,CAAD,CAA9B","names":["defineComponent","reactive","useRouter","InputField","login","components","setup","router","console","log","process","env","VUE_APP_API_ORIGIN","loginInfoInit","email","password","errorMessageInit","refState","loginInfo","errorMessage","handleLogin","__awaiter","then","res","status","transitionList","errorList","Object","keys","data","errors","indexOf","catch","alert","transitionSignUp","push","name"],"sourceRoot":"","sources":["/app/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/app/app/src/views/SignIn.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport axios from \"axios\";\nimport { defineComponent, reactive } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport InputField from \"@/components/common/molecules/InputField.vue\";\nimport { login } from \"@/api/Auth\";\n\ninterface LoginInfo {\n  email: string;\n  password: string;\n}\n\ninterface State {\n  loginInfo: LoginInfo;\n  errorMessage: LoginInfo;\n}\n\nexport default defineComponent({\n  components: {\n    InputField: InputField,\n  },\n  setup() {\n    const router = useRouter();\n\n    console.log(process.env.VUE_APP_API_ORIGIN);\n\n    const loginInfoInit: LoginInfo = {\n      email: \"\",\n      password: \"\",\n    };\n\n    const errorMessageInit: LoginInfo = {\n      email: \"\",\n      password: \"\",\n    };\n\n    const refState = reactive<State>({\n      loginInfo: loginInfoInit,\n      errorMessage: errorMessageInit,\n    });\n\n    const handleLogin = async () => {\n      await login(refState.loginInfo.email, refState.loginInfo.password)\n        .then((res) => {\n          if (res?.status === 200) {\n            transitionList();\n          } else {\n            //エラーメッセージを格納\n            const errorList = Object.keys(res?.data.errors);\n            if (errorList.indexOf(\"email\") !== -1) {\n              refState.errorMessage.email = res?.data.errors.email[0];\n            }\n            if (errorList.indexOf(\"password\") !== -1) {\n              refState.errorMessage.password = res?.data.errors.password[0];\n            }\n            if (errorList.indexOf(\"0\") !== -1) {\n              refState.errorMessage.email = res?.data.errors[0];\n              refState.errorMessage.password = res?.data.errors[0];\n            }\n          }\n        })\n        .catch(() => {\n          alert(\"ログインに失敗しました。\");\n        });\n    };\n\n    const transitionSignUp = () => {\n      router.push({\n        name: \"SignUp\",\n      });\n    };\n\n    const transitionList = () => {\n      router.push({\n        name: \"List\",\n      });\n    };\n\n    return {\n      refState,\n      handleLogin,\n      transitionSignUp,\n    };\n  },\n});\n"]}]}