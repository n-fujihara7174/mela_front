{"remainingRequest":"/app/app/node_modules/babel-loader/lib/index.js!/app/app/node_modules/ts-loader/index.js??ref--15-2!/app/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/app/app/src/views/SignIn.vue?vue&type=script&lang=ts","dependencies":[{"path":"/app/app/src/views/SignIn.vue","mtime":1648134265796},{"path":"/app/app/babel.config.js","mtime":1643593581402},{"path":"/app/app/node_modules/cache-loader/dist/cjs.js","mtime":1648218240323},{"path":"/app/app/node_modules/babel-loader/lib/index.js","mtime":1648218249787},{"path":"/app/app/node_modules/ts-loader/index.js","mtime":1648218251153},{"path":"/app/app/node_modules/cache-loader/dist/cjs.js","mtime":1648218240323},{"path":"/app/app/node_modules/vue-loader-v16/dist/index.js","mtime":1648218248547}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWFjdGl2ZSB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgSW5wdXRGaWVsZCBmcm9tICJAL2NvbXBvbmVudHMvY29tbW9uL21vbGVjdWxlcy9JbnB1dEZpZWxkLnZ1ZSI7CmltcG9ydCB7IGxvZ2luIH0gZnJvbSAiQC9hcGkvQXV0aCI7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgSW5wdXRGaWVsZDogSW5wdXRGaWVsZAogIH0sCgogIHNldHVwKCkgewogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICBjb25zdCBsb2dpbkluZm9Jbml0ID0gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIgogICAgfTsKICAgIGNvbnN0IGVycm9yTWVzc2FnZUluaXQgPSB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogICAgY29uc3QgcmVmU3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGxvZ2luSW5mbzogbG9naW5JbmZvSW5pdCwKICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2VJbml0CiAgICB9KTsKCiAgICBjb25zdCBoYW5kbGVMb2dpbiA9IGFzeW5jICgpID0+IHsKICAgICAgYXdhaXQgbG9naW4ocmVmU3RhdGUubG9naW5JbmZvLmVtYWlsLCByZWZTdGF0ZS5sb2dpbkluZm8ucGFzc3dvcmQpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzPy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICBhbGVydCgi44Ot44Kw44Kk44Oz44Gr5aSx5pWX44GX44G+44GX44Gf44CCIik7CiAgICAgIH0pOyAvLyBhd2FpdCBheGlvcwogICAgICAvLyAgIC5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9zaWduX2luIiwgewogICAgICAvLyAgICAgZW1haWw6IHJlZlN0YXRlLmxvZ2luSW5mby5lbWFpbCwKICAgICAgLy8gICAgIHBhc3N3b3JkOiByZWZTdGF0ZS5sb2dpbkluZm8ucGFzc3dvcmQsCiAgICAgIC8vICAgfSkKICAgICAgLy8gICAudGhlbigoKSA9PiB7CiAgICAgIC8vICAgICB0cmFuc2l0aW9uTGlzdCgpOwogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAvLyAgICAgLy/jgqjjg6njg7zjg6Hjg4Pjgrvjg7zjgrjjgpLmoLzntI0KICAgICAgLy8gICAgIGNvbnN0IGVycm9yTGlzdCA9IE9iamVjdC5rZXlzKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgICAgLy8gICAgIGlmIChlcnJvckxpc3QuaW5kZXhPZigiZW1haWwiKSAhPT0gLTEpIHsKICAgICAgLy8gICAgICAgcmVmU3RhdGUuZXJyb3JNZXNzYWdlLmVtYWlsID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMuZW1haWxbMF07CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBpZiAoZXJyb3JMaXN0LmluZGV4T2YoInBhc3N3b3JkIikgIT09IC0xKSB7CiAgICAgIC8vICAgICAgIHJlZlN0YXRlLmVycm9yTWVzc2FnZS5wYXNzd29yZCA9CiAgICAgIC8vICAgICAgICAgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMucGFzc3dvcmRbMF07CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBpZiAoZXJyb3JMaXN0LmluZGV4T2YoIjAiKSAhPT0gLTEpIHsKICAgICAgLy8gICAgICAgcmVmU3RhdGUuZXJyb3JNZXNzYWdlLmVtYWlsID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnNbMF07CiAgICAgIC8vICAgICAgIHJlZlN0YXRlLmVycm9yTWVzc2FnZS5wYXNzd29yZCA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzWzBdOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pOwogICAgfTsKCiAgICBjb25zdCB0cmFuc2l0aW9uU2lnblVwID0gKCkgPT4gewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIlNpZ25VcCIKICAgICAgfSk7CiAgICB9OwoKICAgIGNvbnN0IHRyYW5zaXRpb25MaXN0ID0gKCkgPT4gewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIkxpc3QiCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICByZWZTdGF0ZSwKICAgICAgaGFuZGxlTG9naW4sCiAgICAgIHRyYW5zaXRpb25TaWduVXAKICAgIH07CiAgfQoKfSk7"},{"version":3,"mappings":"AAEA,SAASA,eAAT,EAA0BC,QAA1B,QAA0C,KAA1C;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,UAAP,MAAuB,8CAAvB;AACA,SAASC,KAAT,QAAsB,YAAtB;AAYA,eAAeJ,eAAe,CAAC;AAC7BK,YAAU,EAAE;AACVF,cAAU,EAAEA;AADF,GADiB;;AAI7BG,OAAK;AACH,UAAMC,MAAM,GAAGL,SAAS,EAAxB;AAEA,UAAMM,aAAa,GAAc;AAC/BC,WAAK,EAAE,EADwB;AAE/BC,cAAQ,EAAE;AAFqB,KAAjC;AAKA,UAAMC,gBAAgB,GAAc;AAClCF,WAAK,EAAE,EAD2B;AAElCC,cAAQ,EAAE;AAFwB,KAApC;AAKA,UAAME,QAAQ,GAAGX,QAAQ,CAAQ;AAC/BY,eAAS,EAAEL,aADoB;AAE/BM,kBAAY,EAAEH;AAFiB,KAAR,CAAzB;;AAKA,UAAMI,WAAW,GAAG,YAAW;AAC7B,YAAMX,KAAK,CAACQ,QAAQ,CAACC,SAAT,CAAmBJ,KAApB,EAA2BG,QAAQ,CAACC,SAAT,CAAmBH,QAA9C,CAAL,CACHM,IADG,CACGC,GAAD,IAAQ;AACZ,YAAIA,GAAG,EAAEC,MAAL,KAAgB,GAApB,EAAyB;AACvBC,iBAAO,CAACC,GAAR,CAAYH,GAAZ;AACD;AACF,OALG,EAMHI,KANG,CAMG,MAAK;AACVC,aAAK,CAAC,cAAD,CAAL;AACD,OARG,CAAN,CAD6B,CAU7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAjCD;;AAmCA,UAAMC,gBAAgB,GAAG,MAAK;AAC5BhB,YAAM,CAACiB,IAAP,CAAY;AACVC,YAAI,EAAE;AADI,OAAZ;AAGD,KAJD;;AAMA,UAAMC,cAAc,GAAG,MAAK;AAC1BnB,YAAM,CAACiB,IAAP,CAAY;AACVC,YAAI,EAAE;AADI,OAAZ;AAGD,KAJD;;AAMA,WAAO;AACLb,cADK;AAELG,iBAFK;AAGLQ;AAHK,KAAP;AAKD;;AA1E4B,CAAD,CAA9B","names":["defineComponent","reactive","useRouter","InputField","login","components","setup","router","loginInfoInit","email","password","errorMessageInit","refState","loginInfo","errorMessage","handleLogin","then","res","status","console","log","catch","alert","transitionSignUp","push","name","transitionList"],"sourceRoot":"","sources":["/app/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/app/app/src/views/SignIn.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport axios from \"axios\";\nimport { defineComponent, reactive } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport InputField from \"@/components/common/molecules/InputField.vue\";\nimport { login } from \"@/api/Auth\";\n\ninterface LoginInfo {\n  email: string;\n  password: string;\n}\n\ninterface State {\n  loginInfo: LoginInfo;\n  errorMessage: LoginInfo;\n}\n\nexport default defineComponent({\n  components: {\n    InputField: InputField,\n  },\n  setup() {\n    const router = useRouter();\n\n    const loginInfoInit: LoginInfo = {\n      email: \"\",\n      password: \"\",\n    };\n\n    const errorMessageInit: LoginInfo = {\n      email: \"\",\n      password: \"\",\n    };\n\n    const refState = reactive<State>({\n      loginInfo: loginInfoInit,\n      errorMessage: errorMessageInit,\n    });\n\n    const handleLogin = async () => {\n      await login(refState.loginInfo.email, refState.loginInfo.password)\n        .then((res) => {\n          if (res?.status === 200) {\n            console.log(res);\n          }\n        })\n        .catch(() => {\n          alert(\"ログインに失敗しました。\");\n        });\n      // await axios\n      //   .post(\"http://localhost:3000/auth/sign_in\", {\n      //     email: refState.loginInfo.email,\n      //     password: refState.loginInfo.password,\n      //   })\n      //   .then(() => {\n      //     transitionList();\n      //   })\n      //   .catch((error) => {\n      //     //エラーメッセージを格納\n      //     const errorList = Object.keys(error.response.data.errors);\n      //     if (errorList.indexOf(\"email\") !== -1) {\n      //       refState.errorMessage.email = error.response.data.errors.email[0];\n      //     }\n      //     if (errorList.indexOf(\"password\") !== -1) {\n      //       refState.errorMessage.password =\n      //         error.response.data.errors.password[0];\n      //     }\n      //     if (errorList.indexOf(\"0\") !== -1) {\n      //       refState.errorMessage.email = error.response.data.errors[0];\n      //       refState.errorMessage.password = error.response.data.errors[0];\n      //     }\n      //   });\n    };\n\n    const transitionSignUp = () => {\n      router.push({\n        name: \"SignUp\",\n      });\n    };\n\n    const transitionList = () => {\n      router.push({\n        name: \"List\",\n      });\n    };\n\n    return {\n      refState,\n      handleLogin,\n      transitionSignUp,\n    };\n  },\n});\n"]}]}